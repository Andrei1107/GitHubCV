

//cerinta: sa se scrie intr-un fisier txt pozitia coloanelor strict crescatoare


        #include<stdio.h>
        #include<conio.h>
        #include<stdlib.h>

void ColoaneStrictCrescatoareMatrice(char* NumeFisier, float **a)
{
  FILE *f,*g;
  float x;
  int v[100];
  int n,m;
  int i,j,k,p;
  f=fopen(NumeFisier,"r");
  if(!f)
  {
    printf("\n  Fisierul %s nu se poate deschide",NumeFisier);
  }
  else
  {
    g=fopen("Pozitii.txt","w+");
    if(!g)
    {
        printf("\n Fisierul de pozitii nu se poate deschide");
    }
    else
    {
      fscanf(f,"%d",&n);
      fscanf(f,"%d",&m);
      a=(float**)malloc((n)*sizeof(float*));
      for(i=0;i<=n-1;i++)
        (a)[i]=(float*)malloc((m)*sizeof(float));
      for(i=0;i<=n-1;i++)
        for(j=0;j<=m-1;j++)
      {
          fscanf(f,"%f",&(a)[i][j]);
      }
      printf("\n\n   Matricea introdusa in fisier este:\n\n");
      for(i=0;i<=n-1;i++)
      {
          for(j=0;j<=m-1;j++)
          {
              printf(" a[%d][%d]=%.2f  ",i,j,(a)[i][j]);
          }
          printf("\n");
      }
      k=0;
      for(j=0;j<=m-1;j++)
      {
          p=0;
          for(i=0;i<=n-2;i++)
          {
             if(a[i][j]<a[i+1][j])
             {
                 p++;
             }
          }
          if(p==(n-1))
          {
              k++;
          }
       }
       k=0;
       for(j=0;j<=m-1;j++)
      {
          p=0;
          for(i=0;i<=n-2;i++)
          {
              if(a[i][j]<a[i+1][j])
             {
                 p++;
             }
          }
          if(p==(n-1))
          {
              v[k]=j;
              k++;
          }
      }
      for(i=0;i<=k-1;i++)
      {
          fprintf(g," %d \t",v[i]);
      }
      fclose(g);
    }
    fclose(f);
  }
  for(i=0;i<=n-1;i++)
        free(a[i]);
  free(a);
}

void main()
{
    int i,j;
    int n,m;
    float **a;
    ColoaneStrictCrescatoareMatrice("Matrice.txt",a);
    printf("\n\n Pozitiile coloanelor strict crescatoare le aveti in fisierul:");
    printf("\n\n                     Pozitii.txt\n");
    getch();
}
